<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <title>Panel de Administración</title>
  <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.1/css/bulma.min.css" /> -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="../shared/style.css" />
</head>

<body>
  <section class="section">
    <div class="container">

      <div class="is-flex is-flex-wrap-wrap is-justify-content-space-between is-align-items-center panel-buttons mb-5">
        <h1 class="title has-text-primary">Panel de Administración</h1>

        <div class="buttons">
          <a class="button is-primary is-outlined" href="../crear_post/crear_post.html">
            <span class="icon-text">
              <span class="icon"><i class="fas fa-upload"></i></span>
              <span>Publicar</span>
            </span>
          </a>
          <a class="button is-primary is-outlined" href="../../index.html">
            <span class="icon-text">
              <span class="icon"><i class="fas fa-home"></i></span>
              <span>Inicio</span>
            </span>
          </a>
          <a class="button is-danger is-light" id="logoutBtn">
            <span class="icon-text">
              <span class="icon"><i class="fas fa-sign-out-alt"></i></span>
              <span>Salir</span>
            </span>
          </a>
        </div>
      </div>

      <!-- Tabs principales -->
      <!-- Tabs -->
      <div class="tabs is-toggle is-fullwidth is-medium">
        <ul>
          <li class="is-active" data-tab="usuarios"><a>Administración de Usuarios</a></li>
          <li data-tab="admin-posts"><a>Mis Posts</a></li>
          <li id="ban" data-tab="shadowban"><a>ShadowBan</a></li>
          <li data-tab="comentarios"><a>Administrador de Comentarios</a></li>
        </ul>
      </div>

      <!-- Administración de Usuarios -->
      <!-- Administración de Usuarios -->
      <div class="tab-content" id="usuarios">
        <h2 class="subtitle has-text-centered">CRUD de Usuarios</h2>

        <form id="form-crear-user" class="box">
          <div class="columns is-multiline">

            <div class="column is-full-mobile is-half-tablet">
              <label class="label">Nombre del Usuario</label>
              <input class="input" type="text" id="user-nombre" placeholder="Ingrese el nombre..." required />
            </div>

            <div class="column is-full-mobile is-half-tablet">
              <label class="label">User (Nickname)</label>
              <input class="input" type="text" id="user-user" placeholder="Ingrese el user..." required />
            </div>

            <div class="column is-full-mobile is-half-tablet">
              <label class="label">Rol de usuario</label>
              <div class="select is-fullwidth">
                <select id="user-tipo" required>
                  <option value="" disabled selected>Seleccione un rol</option>
                  <option value="user">User</option>
                  <option value="admin">Admin</option>
                </select>
              </div>
            </div>

            <div class="column is-full-mobile is-half-tablet">
              <label class="label">Correo Electrónico</label>
              <div class="control has-icons-left">
                <input type="email" class="input" id="user-email" placeholder="tu@email.com" required />
                <span class="icon is-left"><i class="fas fa-envelope"></i></span>
              </div>
              <p id="emailError" class="help is-danger is-hidden">Email inválido o ya en uso.</p>
            </div>

            <div class="column is-full-mobile is-half-tablet">
              <label class="label">Contraseña</label>
              <input class="input" type="password" id="user-password" placeholder="Ingrese la contraseña..." required />
            </div>

            <div class="column is-full-mobile is-half-tablet">
              <label class="label">Ciudad</label>
              <input class="input" type="text" id="user-ciudad" placeholder="Ingrese la ciudad (opcional)" />
            </div>

            <div class="column is-full-mobile is-half-tablet">
              <label class="label">Teléfono</label>
              <input class="input" type="tel" id="user-telefono" placeholder="Ingrese el teléfono (opcional)" />
            </div>

            <div class="column is-full-mobile is-half-tablet">
              <label class="label">Edad</label>
              <input class="input" type="number" id="user-edad" placeholder="Ingrese la edad (opcional)" min="0" />
            </div>

            <div class="column is-full">
              <label class="label">Descripción</label>
              <textarea class="textarea" id="user-descripcion"
                placeholder="Escriba una breve descripción (opcional)"></textarea>
            </div>

            <div class="column is-full-mobile is-half-tablet">
              <label class="label">Foto de Perfil (opcional)</label>
              <input class="input" type="file" id="user-fotoPerfil" accept="image/*" />
            </div>

            <div class="column is-full-mobile is-half-tablet">
              <label class="label">Estado Baneado</label>
              <div class="select is-fullwidth">
                <select id="user-banned">
                  <option value="false" selected>No Baneado</option>
                  <option value="true">Baneado</option>
                </select>
              </div>
            </div>

            <div class="column is-full has-text-centered mt-5">
              <button class="button is-primary is-rounded is-large has-text-weight-bold custom-glow" type="submit">
                <span class="icon mr-2"><i class="fas fa-user-plus"></i></span>
                <span>Crear Usuario</span>
              </button>
            </div>
          </div>
        </form>

        <div id="mostrar-users"></div>
      </div>
      <!-- hasta aqui -->

    </div>
    <!-- BAN de usuarios -->
    <!-- Admin Posts -->
    <div class="tab-content is-hidden" id="admin-posts">
      <h2 class="subtitle has-text-centered">CRUD de Mis Posts</h2>
      <div class="container">
        <div class="columns is-centered">
          <div class="column is-10-mobile is-10-tablet is-12-desktop is-12-widescreen">

            <!-- FORMULARIO PARA CREAR POST -->
            <form id="form-crear-post" class="box">
              <div class="field">
                <label class="label">Nombre del Post</label>
                <div class="control">
                  <input class="input" type="text" id="post-nombre" placeholder="Ingrese el nombre..." required />
                </div>
              </div>
              <div class="field">
                <label class="label">Categorías (separadas por coma)</label>
                <div class="control">
                  <input class="input" type="text" id="post-categorias" placeholder="Ej: Tecnología, Noticias"
                    required />
                </div>
              </div>
              <div class="field">
                <label class="label">Contenido</label>
                <div class="control">
                  <textarea class="textarea" id="post-contenido" placeholder="Escriba el contenido..."
                    required></textarea>
                </div>
              </div>
              <div class="field">
                <label class="label">Imagen (opcional)</label>
                <div class="control">
                  <input class="input" type="file" id="post-imagen" accept="image/*" />
                </div>
              </div>
              <div class="field is-grouped is-justify-content-center mt-5">
                <div class="control">
                  <button class="button is-primary is-rounded is-large has-text-weight-bold custom-glow" type="submit">
                    <span class="icon ">
                      <i class="fas fa-user-plus"></i>
                    </span>
                    <span>Crear Post</span>
                  </button>
                </div>
              </div>
            </form>

            <!-- LISTADO DE POSTS -->
            <div id="admin-posts-lista"></div>

          </div>
        </div>
      </div>
    </div>

    <!-- ShadowBan -->
    <div class="tab-content is-hidden" id="shadowban">
      <h2 class="subtitle">Silenciar Usuarios (ShadowBan)</h2>
      <div id="shadowban-lista"></div>
    </div>

    <!-- Administrador de Comentarios -->
    <!-- aqui se muestran los comentarios por post aprobados y pendientes -->
    <div class="tab-content is-hidden" id="comentarios">
    </div>

  </section>

</body>

<script src="admin_ban.js" type="module" defer></script>
<script src="admin_CRUD-users.js" type="module" defer></script>
<!--oJO aquí con el elemento que va primero para la validación-->
<script src="../shared/alertas.js"></script>
<script src="dashboard_admin.js" type="module"></script>
<!-- para la Administración de comentarios  -->
<script src="../../js/comentarios/comentarios_admi.js" type="module" defer></script>
<script src="../../js/comentarios/admin_aprobar_reprobar.js" type="module" defer></script>
<script src="https://kit.fontawesome.com/1de6e85594.js" crossorigin="anonymous"></script>
<script src="../shared/global.js"></script>

</html>